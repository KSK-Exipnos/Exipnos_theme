const CATEGORY_SLUG_STATISTICS="statistics";const CATEGORY_SLUG_TARGETING="targeting";const CATEGORY_SLUG_EMBEDDINGS="embeddings";const CATEGORY_SLUG_LIVECHAT="live-chat";const CATEGORY_SLUG_CHATBOTS="chat-bots";const CATEGORY_SLUG_PLUGINS="plugins";const CATEGORY_SLUG_MANDATORY="necessary";(function(n){n(document).ready(function(){n(document).on("click","#popup_accept_button",function(e){e.preventDefault();var t=n("select[name='google-fonts'] option:selected").text();if(t==="Yes"){var o=n(document).find("link[data-href]");n.each(o,function(){n(this).attr("href",n(this).attr("data-href")).removeAttr("data-href")})}});n(window).scroll(function(){if(n("#cookie-notice").is(":visible")==false)return;var e=parseInt(n("#cookie-notice").css("height"));if(n(window).scrollTop()+n(window).height()>n(document).height()-(e+20)){n(document.body).css("padding-bottom",e+"px")}else{n(document.body).css("padding-bottom","inherit")}});var e=n(".sp-dsgvo-iframe-button-create");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();n("<iframe />",{src:"https://www.youtube.com/embed/ApvLgliq_lY?feature=oembed"}).appendTo("#iframeContainer")});var e=n(".sp-dsgvo-iframe-button-unblock");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();unblock(n(this).attr("data-slug"))})})})(jQuery);(function(l){"use strict";var n=null;var o=null;function e(){var e=l(".sp-dsgvo-lang-active"),t=l(".sp-dsgvo-lang-dropdown"),o=l(".sp-dsgvo-popup-language-switcher");e.on("click tap touchstart",function(){t.toggleClass("active")});l(document).on("click tap touchstart ",function(e){if(!o.is(e.target)&&o.has(e.target).length===0){t.removeClass("active")}})}function t(){var e=l("#sp-dsgvo-privacy-content-category-content");if(e.length>0){n=new SimpleBar(l("#sp-dsgvo-privacy-content-category-content")[0],{autoHide:false})}var t=l(".sp-dsgvo-popup-more-information-content");if(t.length>0){o=new SimpleBar(l(".sp-dsgvo-popup-more-information-content")[0],{autoHide:false})}}function a(){var e=l(".dsgvo-terms-toggle");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();var t=l(this),o=l("#terms_content_"+t.attr("data-id"));o.addClass("active");if(n!=null)n.recalculate();l(window).resize()})}function i(){var e=l(".sp-dsgvo-show-privacy-popup");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();g()});e=l(".lwb-ppsp");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();g()});e=l(".sp-dsgvo-navigate-privacy-policy");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();window.location=spDsgvoGeneralConfig.privacyPolicyPageUrl});e=l(".sp-dsgvo-direct-enable-popup");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();var t=l(this).data("slug");if(t==null||t=="")return;I(t)})}function r(){l(".sp-dsgvo-popup-overlay").on("click tap touchstart",function(e){var t=l(e.target);if(t.is(".sp-dsgvo-privacy-popup")||t.parents().is(".sp-dsgvo-privacy-popup")){return}else{if(O()==false){k("dismissAll");u(true)}else{u(false)}}})}function s(){var e=l(".sp-dsgvo-popup-close");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();if(O()==false){k("dismissAll");u(true)}else{u(false)}});var t=l(".sp-dsgvo-privacy-btn-accept-nothing");t.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();k("dismissAll");u(false)});var o=l(".sp-dsgvo-privacy-btn-accept-selection");o.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();k("acceptSelected");u(false)});var n=l(".sp-dsgvo-privacy-btn-accept-all");n.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();k("acceptAll");u(false)})}function c(){l(".sp-dsgvo-switch-integration").not(":disabled").prop("checked",false);l(".sp-dsgvo-switch-integration").change(function(){p()});var e=P();e.forEach(function(e){l("#sp-dsgvo-switch-integration-"+e).prop("checked",true)})}function p(){var e=P();var o=l(".sp-dsgvo-switch-integration:checked").map(function(){return l(this).data("slug")}).get();var t=e.length===o.length&&e.every(function(e,t){return e===o[t]});if(t==false){l(".sp-dsgvo-privacy-btn-accept-selection").addClass("green");l(".sp-dsgvo-privacy-btn-accept-selection").removeClass("grey")}else{l(".sp-dsgvo-privacy-btn-accept-selection").removeClass("green");l(".sp-dsgvo-privacy-btn-accept-selection").addClass("grey")}}function u(e){var t=l(".sp-dsgvo-popup-overlay");if(t.length>0){t.fadeOut();t.addClass("sp-dsgvo-overlay-hidden");if(spDsgvoGeneralConfig.showNoticeOnClose==1&&e){d()}}}function g(){c();var e=l(".sp-dsgvo-popup-overlay");if(e.length>0){f();e.fadeIn();e.removeClass("sp-dsgvo-overlay-hidden")}}function d(){var e=l("#cookie-notice");if(spDsgvoGeneralConfig.noticeHideEffect==="fade"){e.fadeIn()}else if(spDsgvoGeneralConfig.noticeHideEffect==="slide"){e.slideDown()}else{e.css("display","flex")}l("body").addClass("cookies-not-accepted")}function f(){var e=l("#cookie-notice");if(e.is(":visible")==false)return;if(spDsgvoGeneralConfig.noticeHideEffect==="fade"){e.fadeOut(function(){l("#cookie-notice").hide();l("#cookie-notice-blocker").hide();l("body").removeClass("cookies-not-accepted")})}else if(spDsgvoGeneralConfig.noticeHideEffect==="slide"){e.slideUp(function(){l("#cookie-notice").hide();l("#cookie-notice-blocker").hide();l("body").removeClass("cookies-not-accepted")})}else{l("#cookie-notice").hide();l("#cookie-notice-blocker").hide();l("body").removeClass("cookies-not-accepted")}}function v(){if(spDsgvoIntegrationConfig==null)return;if(U(spDsgvoIntegrationConfig).length==0&&spDsgvoGeneralConfig.forceCookieInfo==0)return;if(spDsgvoGeneralConfig.currentPageId==spDsgvoGeneralConfig.privacyPolicyPageId||spDsgvoGeneralConfig.currentPageId==spDsgvoGeneralConfig.imprintPageId){return}if(O()==false){if(spDsgvoGeneralConfig.initialDisplayType=="cookie_notice"){d()}else if(spDsgvoGeneralConfig.initialDisplayType=="policy_popup"){g()}}}function h(t,e,o){l("#sp-dsgvo-popup-more-information-title").html(t);l("#sp-dsgvo-popup-more-information-progress").show();l(".sp-dsgvo-privacy-popup-title-general").hide();l("#sp-dsgvo-privacy-content-category-content").hide();l("#sp-dsgvo-privacy-footer").hide();l(".sp-dsgvo-header-description-text").hide();l("#sp-dsgvo-more-information-switch-cb").attr("data-slug",e);l("#sp-dsgvo-more-information-switch-cb").prop("checked",l("#sp-dsgvo-switch-integration-"+e).prop("checked"));l("#sp-dsgvo-more-information-switch-cb").prop("disabled",l("#sp-dsgvo-switch-integration-"+e).prop("disabled"));l(".sp-dsgvo-privacy-popup-title-details").show();l("#sp-dsgvo-popup-more-information").show();var n=N(e);l.get(spDsgvoGeneralConfig.wpJsonUrl+"lwTextEndpoint",{slug:e,textId:"popup",locale:o,includeTagManager:n.usedTagmanager},function(e){l("#sp-dsgvo-popup-more-information-title").html(t);l("#sp-dsgvo-popup-more-information-content").html(e);l("#sp-dsgvo-popup-more-information-progress").hide();l(".sp-dsgvo-privacy-popup-title-details").show();l("#sp-dsgvo-popup-more-information").show()}).fail(function(){m()})}function m(){l("#sp-dsgvo-popup-more-information").hide();l(".sp-dsgvo-privacy-popup-title-details").hide();l("#sp-dsgvo-popup-more-information-progress").hide();l("#sp-dsgvo-popup-more-information-content").html("");l("#sp-dsgvo-more-information-switch-cb").attr("data-slug","");l("#sp-dsgvo-more-information-switch-cb").prop("checked",false);l(".sp-dsgvo-privacy-popup-title-general").show();l(".sp-dsgvo-header-description-text").show();l("#sp-dsgvo-privacy-content-category-content").show();l("#sp-dsgvo-privacy-footer").show()}function y(){var e=l(".sp-dsgvo-more-information-link");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();var t=l(this);var o=t.attr("data-title");var n=t.attr("data-slug");h(o,n,spDsgvoGeneralConfig.locale)});var t=l(".sp-dsgvo-popup-more-information-close");t.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();m()});l("#sp-dsgvo-more-information-switch-cb").change(function(){var e=l(this);var t=e.attr("data-slug");if(t=="")return;if(l(this).prop("disabled"))return;l("#sp-dsgvo-switch-integration-"+t).prop("checked",e.prop("checked"));p()})}function C(){l('input[name="sp-dsgvo-switch-category"]').change(function(){var e=l(this);var t=e.attr("data-slug");l('input[data-category="'+t+'"]').each(function(){if(l(this).prop("disabled"))return;var e=l(this).attr("data-category");l(this).prop("checked",l("#sp-dsgvo-switch-category-"+e).prop("checked"))});p()})}function b(){l("#cn-btn-settings").on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();f();g()})}function k(e){if(e==null||e=="")return;var t=spDsgvoGeneralConfig.allIntegrationSlugs;var o=l(".sp-dsgvo-switch-integration:checkbox:checked");var n=[];switch(e){case"acceptAll":n=t;break;case"acceptSelected":l(".sp-dsgvo-switch-integration:checkbox:checked").each(function(){n.push(l(this).data("slug"))});break;case"dismissAll":n=[];break}var a=P();var i=0;var r=0;n.forEach(function(e){var t=N(e);if(t==null)return;if(t.usedTagmanager=="google-analytics"){i++}if(t.usedTagmanager=="matomo-analytics"){r++}});if(i>0)n.push("google-tagmanager");if(r>0)n.push("matomo-tagmanager");w(n);T();A(a)}function w(e){var t=0;if(e!=null&&e.length>0){t=spDsgvoGeneralConfig.cookieLifeTime}else{t=spDsgvoGeneralConfig.cookieLifeTimeDismiss}var o={};o.version=spDsgvoGeneralConfig.cookieVersion;o.lifeTime=t;o.integrations=e;o.lastChangeOn=(new Date).getTime();var n=location.protocol!=="https:"?"":";Secure;";var a=encodeURIComponent(JSON.stringify(o));var i=new Date;i.setTime(i.getTime()+parseInt(t)*1e3);var r="expires="+i.toUTCString();document.cookie=spDsgvoGeneralConfig.cookieName+"="+a+";"+r+";path=/"+n}function D(){return window.google_tag_manager!=null}function E(){return window._mtm!=null}function T(){var e=P();var o=0;var n=0;e.forEach(function(e){var t=N(e);if(t==null)return;if(t.usedTagmanager=="google-tagmanager"){o++}if(t.usedTagmanager=="matomo-tagmanager"){n++}});if(o>0&&D()==false){var t=N("google-tagmanager");if(t==null)return;try{l("head").append(atob(t.jsCode))}catch(e){console.log("could not activate "+t.slug)}}if(n>0&&E()==false){var t=N("matomo-tagmanager");if(t==null)return;try{l("head").append(atob(t.jsCode))}catch(e){console.log("could not activate "+t.slug)}}e.forEach(function(e){if(e=="google-tagmanager")return;if(e=="matomo-tagmanager")return;var t=N(e);if(t==null)return;switch(t.category){case CATEGORY_SLUG_STATISTICS:G(t);break;case CATEGORY_SLUG_TARGETING:G(t);break;case CATEGORY_SLUG_CHATBOTS:G(t);break;case CATEGORY_SLUG_EMBEDDINGS:S(t);break}var o=new CustomEvent("lw-optinout",{detail:{integrationId:t.slug,integrationCategory:t.category,integrationCode:t.jsCode,mode:"optin",time:new Date},bubbles:true,cancelable:false});document.querySelector(".sp-dsgvo-privacy-popup").dispatchEvent(o)})}function G(t){if(t.insertLocation=="head"){var e=l("head").html().indexOf("sp-dsgvo-script-container-"+t.slug);var o=l("head").html().lastIndexOf("sp-dsgvo-script-container-"+t.slug);if(e==o){try{l("head").append(atob(t.jsCode))}catch(e){console.log("could not activate "+t.slug)}}}else{var n=l(".sp-dsgvo-script-container-"+t.slug);var a=n.length;if(a==false){n=l("<div/>",{class:"sp-dsgvo-script-container sp-dsgvo-script-container-"+t.slug}).appendTo(t.insertLocation);a=true}var i=l.trim(n.html())=="";if(a&&i){try{n.append(atob(t.jsCode))}catch(e){console.log("could not activate "+t.slug)}}}}function S(p){var e=l(".sp-dsgvo-embedding-"+p.slug);e.each(function(){var e=l(this);var t=e.find(".sp-dsgvo-hidden-embedding-content");if(t==null||t.html()==null||t.html()=="")return;try{var o=atob(t.html());var n=document.createElement("textarea");n.innerHTML=o;var a=l.parseHTML(n.value);e.empty();e.append(a);var i=(new DOMParser).parseFromString(o,"text/html");var r=i.getElementsByTagName("script");if(r.length>0){for(var s=0;s<r.length;s++){var c=document.createElement("script");c.innerHTML=r[s].innerHTML;c.async=r[s].async;if(r[s].src!=null&&r[s].src!="")c.src=r[s].src;if(r[s].type!=null&&r[s].type!="")c.type=r[s].type;this.appendChild(c)}}}catch(e){console.log("could not enable embedding: "+p.slug)}})}function I(e){var t=P();var o=N(e);if(o==null)return;S(o);t.push(e);w(t);var n=new CustomEvent("lw-optinout",{detail:{integrationId:o.slug,integrationCategory:o.category,integrationCode:o.jsCode,mode:"optin",time:new Date},bubbles:true,cancelable:false});document.querySelector(".sp-dsgvo-privacy-popup").dispatchEvent(n)}function A(a){var i=0;var r=P();if(r.length==0&&a.length==0)return;if(r==null||r==""||r==""||Array.isArray(r)==false){l(".sp-dsgvo-script-container").each(function(){l(this).empty()});spDsgvoIntegrationConfig.forEach(function(e){var t=e.cookieNames;if(t!=null||t!=""){var o=t.split(";");if(o!=null&&o.length>0){o.forEach(function(e){R(e)})}}if(a.includes(e.slug)){var n=new CustomEvent("lw-optinout",{detail:{integrationId:e.slug,integrationCategory:e.category,integrationCode:e.jsCode,mode:"optout",time:new Date},bubbles:true,cancelable:false});document.querySelector(".sp-dsgvo-privacy-popup").dispatchEvent(n)}});location.reload();return}spDsgvoIntegrationConfig.forEach(function(e){if(r.includes(e.slug)==false){if(a.includes(e.slug))i++;var t=new CustomEvent("lw-optinout",{detail:{integrationId:e.slug,integrationCategory:e.category,integrationCode:e.jsCode,mode:"optout",time:new Date},bubbles:true,cancelable:false});document.querySelector(".sp-dsgvo-privacy-popup").dispatchEvent(t);var o=e.cookieNames;if(o!=null||o!=""){var n=o.split(";");if(n!=null&&n.length>0){n.forEach(function(e){R(e)})}}}});if(i>0){location.reload()}}function _(e){var t=e+"=";var o=decodeURIComponent(document.cookie);var n=o.split(";");for(var a=0;a<n.length;a++){var i=n[a];while(i.charAt(0)==" "){i=i.substring(1)}if(i.indexOf(t)==0){return i.substring(t.length,i.length)}}return""}function L(e){if(e==null||e=="")return false;var t={};try{t=JSON.parse(decodeURIComponent(e))}catch(e){return false}if(t.version<spDsgvoGeneralConfig.cookieVersion){return false}return true}function O(){var e=_(spDsgvoGeneralConfig.cookieName);return L(e)}function P(){var t=[];var e=_(spDsgvoGeneralConfig.cookieName);if(e!=""){try{var o=JSON.parse(decodeURIComponent(e));t=o.integrations}catch(e){t=[]}}return t}function R(e){if(e=="")return;var t=new RegExp("^"+e,"g");if(t.test(document.cookie)==false)return;var o=document.cookie.split(/=[^;]*(?:;\s*|$)/);for(var n=0;n<o.length;n++){if(t.test(o[n])){document.cookie=o[n]+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT;"}}}function N(t){var o=null;spDsgvoIntegrationConfig.forEach(function(e){if(e.slug==t){o=e;return}});return o}function U(e){var t=[];e.forEach(function(e){if(e.category!=CATEGORY_SLUG_MANDATORY){t.push(e)}});return t}function x(t){var o=false;var e=P();e.forEach(function(e){if(e==t){o=true;return}});return o}l(document).ready(function(){T();e();y();a();s();C();c();t();b();i();r();v()});const Y="iframe/blocked";const H={blacklisted:[]};function M(e,t){var o=j(e.toLowerCase());if(o==null)return false;var n=x(o.slug)==false;return n}function j(n){if(spDsgvoIntegrationConfig==null)return null;var a=null;var i=false;spDsgvoIntegrationConfig.forEach(function(e){if(i)return;var t=e.hosts;if(t!=null&&t!=""){var o=t.split(";");if(o!=null&&o.length>0){o.forEach(function(e){if(n.indexOf(e.toLowerCase())>=0){i=true;return}});if(i){a=e;return}}}});return a}const B={characterData:true,characterDataOldValue:true,childList:true,subtree:true};function q(t){for(let e=0;e<t.length;e++){const i=t[e].addedNodes;for(let e=0;e<i.length;e++){const r=i[e];if(r.nodeType===1&&r.tagName==="IFRAME"){const s=r.src;const c=r.type;if(M(s,c)){H.blacklisted.push(r.cloneNode());r.type=Y;var o=J(r);const p=function(e){if(r.getAttribute("type")===Y)e.preventDefault();r.removeEventListener("beforescriptexecute",p)};r.addEventListener("beforescriptexecute",p);var n=r.parentElement;r.parentElement&&r.parentElement.removeChild(r);var a=document.createElement("div");a.innerHTML=o;n.appendChild(a);F()}}}}}function J(e){var t=V(e);var o=j(e.src);var n=btoa(t);var a=o.placeholder;a=a.replace("{encodedContent}",n);return a}function V(e){var t=document.createElement("div");t.appendChild(e.cloneNode(true));return t.innerHTML}function F(){l(".sp-dsgvo-direct-enable-popup").on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();var t=l(this).data("slug");if(t==null||t=="")return;I(t)})}const Q=new MutationObserver(q);var z=document.documentElement||document.body;if(spDsgvoGeneralConfig.clientSideBlocking=="1"){Q.observe(z,B)}})(jQuery);